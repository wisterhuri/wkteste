CREATE TABLE leodb.clientes (
  CODIGO INT NOT NULL,
  NOME VARCHAR(100) NOT NULL,
  CIDADE VARCHAR(100) NOT NULL,
  UF VARCHAR(2) NOT NULL,
  PRIMARY KEY (CODIGO));


CREATE TABLE leodb.produtos (
  CODIGO INT NOT NULL AUTO_INCREMENT,
  DESCRICAO VARCHAR(100) NOT NULL,
  PRECO_VENDA DECIMAL(10, 2) NOT NULL,
  PRIMARY KEY (CODIGO)
)
ENGINE = INNODB,
AUTO_INCREMENT = 26,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

ALTER TABLE leodb.produtos 
  ADD UNIQUE INDEX UK_produtos_DESCRICAO(DESCRICAO);


CREATE TABLE leodb.pedidos_dados_gerais (
  NUMEROPEDIDO INT NOT NULL,
  DATAEMISSAO DATE NOT NULL,
  CODIGO_CLIENTE INT NOT NULL,
  VALOR_TOTAL DECIMAL(10, 2) NOT NULL,
  PRIMARY KEY (NUMEROPEDIDO, DATAEMISSAO, CODIGO_CLIENTE, VALOR_TOTAL)
)
ENGINE = INNODB,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

ALTER TABLE leodb.pedidos_dados_gerais 
  ADD CONSTRAINT FK_pedidos_dados_gerais_CODIGO_CLIENTE FOREIGN KEY (CODIGO_CLIENTE)
    REFERENCES leodb.clientes(CODIGO);


CREATE TABLE leodb.pedidos_produtos (
  ID INT NOT NULL AUTO_INCREMENT,
  NUMERO_PEDIDO INT NOT NULL,
  CODIGO_PRODUTO INT NOT NULL,
  QUANTIDADE INT NOT NULL,
  VLR_UNITARIO DECIMAL(10, 2) NOT NULL,
  VLR_TOTAL DECIMAL(10, 2) NOT NULL DEFAULT (QUANTIDADE * VLR_UNITARIO),
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
CHARACTER SET utf8,
COLLATE utf8_general_ci;

ALTER TABLE leodb.pedidos_produtos 
  ADD CONSTRAINT FK_pedidos_produtos_CODIGO_PRODUTO FOREIGN KEY (CODIGO_PRODUTO)
    REFERENCES leodb.produtos(CODIGO);

ALTER TABLE leodb.pedidos_produtos 
  ADD CONSTRAINT FK_pedidos_produtos_NUMERO_PEDIDO FOREIGN KEY (NUMERO_PEDIDO)
    REFERENCES leodb.pedidos_dados_gerais(NUMEROPEDIDO);



INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 1', 'CIDADE 1', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 2', 'CIDADE 2', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 3', 'CIDADE 3', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 4', 'CIDADE 4', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 5', 'CIDADE 5', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 6', 'CIDADE 6', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 7', 'CIDADE 7', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 8', 'CIDADE 8', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 9', 'CIDADE 9', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 10', 'CIDADE 10', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 11', 'CIDADE 11', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 12', 'CIDADE 12', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 13', 'CIDADE 13', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 14', 'CIDADE 14', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 15', 'CIDADE 15', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 16', 'CIDADE 16', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 17', 'CIDADE 17', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 18', 'CIDADE 18', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 19', 'CIDADE 19', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 20', 'CIDADE 20', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 21', 'CIDADE 21', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 22', 'CIDADE 22', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 23', 'CIDADE 23', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 24', 'CIDADE 24', 'SP');
INSERT INTO clientes (NOME,CIDADE,UF) VALUES ('CLIENTE 25', 'CIDADE 25', 'SP');


INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 1','1.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 2','2.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 3','3.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 4','4.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 5','5.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 6','6.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 7','7.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 8','8.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 9','9.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 10','10.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 11','11.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 12','12.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 13','13.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 14','14.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 15','15.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 16','16.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 17','17.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 18','18.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 19','19.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 20','20.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 21','21.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 22','22.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 23','23.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 24','24.00');
INSERT INTO produtos (DESCRICAO,PRECO_VENDA) VALUES ('PRODUTO 25','25.00');